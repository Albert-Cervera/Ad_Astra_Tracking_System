{"remainingRequest":"/home/avocado/Documents/NASA/01_space_tracker_ui/node_modules/babel-loader/lib/index.js!/home/avocado/Documents/NASA/01_space_tracker_ui/node_modules/eslint-loader/index.js??ref--13-0!/home/avocado/Documents/NASA/01_space_tracker_ui/src/services/WorldWindService.js","dependencies":[{"path":"/home/avocado/Documents/NASA/01_space_tracker_ui/src/services/WorldWindService.js","mtime":1633254278814},{"path":"/home/avocado/Documents/NASA/01_space_tracker_ui/node_modules/cache-loader/dist/cjs.js","mtime":1630090222612},{"path":"/home/avocado/Documents/NASA/01_space_tracker_ui/node_modules/babel-loader/lib/index.js","mtime":1630090222596},{"path":"/home/avocado/Documents/NASA/01_space_tracker_ui/node_modules/eslint-loader/index.js","mtime":1630090229671}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2F2b2NhZG8vRG9jdW1lbnRzL05BU0EvMDFfc3BhY2VfdHJhY2tlcl91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCBXb3JsZFdpbmQgZnJvbSAnQG5hc2F3b3JsZHdpbmQvd29ybGR3aW5kJzsKCnZhciBzYXRlbGxpdGUgPSByZXF1aXJlKCdzYXRlbGxpdGUuanMnKTsKCmltcG9ydCBwYXlsb2FkX2ljb24gZnJvbSAnLi4vYXNzZXRzL2ljb25zL3NhdGVsbGl0ZS5wbmcnOwppbXBvcnQgeWVsbG93X2RvdCBmcm9tICcuLi9hc3NldHMvaWNvbnMveWVsbG93X2RvdC5wbmcnOwppbXBvcnQgcmVkX2RvdCBmcm9tICcuLi9hc3NldHMvaWNvbnMvcmVkX2RvdC5wbmcnOyAvL2ltcG9ydCBUTEVfREFUQSBmcm9tICcuLi90bGVfZGF0YS9iYXNpY1RMRS5qc29uJwovL2ltcG9ydCBUTEVfREFUQSBmcm9tICcuLi90bGVfZGF0YS9UTEUuanNvbicgLy8gTm90IHdvcmtpbmcKCmltcG9ydCBUTEVfREFUQSBmcm9tICcuLi90bGVfZGF0YS9UTEUyLmpzb24nOyAvLyBXb3JraW5nIGZpbmUKCmV4cG9ydCB2YXIgbGF1bmNoR2xvYmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgdmFyIHN0b3JlLCBjZWxlc3RpYWxfb2JqZWN0cywgc2hvd0xlbywgc2hvd01lbywgc2hvd0hlbywgc2hvd0dlbywgc2hvd1VuYywgc2hvd1NhdCwgc2hvd0RlYnJpcywgc2hvd1JvY2tldCwgd3dkLCBzdGFyRmllbGRMYXllciwgYXRtb3NwaGVyZUxheWVyLCBub3csIG9yYml0c0hvdmVyTGF5ZXIsIG1vZGVsTGF5ZXIsIG1lc2hMYXllciwgb3JiaXRzTGF5ZXIsIGxlb1NhdExheWVyLCBtZW9TYXRMYXllciwgaGVvU2F0TGF5ZXIsIGdlb1NhdExheWVyLCB1bmNsYXNzaWZpZWRTYXRMYXllciwgbGVvRGVicmlzTGF5ZXIsIG1lb0RlYnJpc0xheWVyLCBoZW9EZWJyaXNMYXllciwgZ2VvRGVicmlzTGF5ZXIsIHVuY2xhc3NpZmllZERlYnJpc0xheWVyLCBsZW9Sb2NrZXRMYXllciwgbWVvUm9ja2V0TGF5ZXIsIGhlb1JvY2tldExheWVyLCBnZW9Sb2NrZXRMYXllciwgdW5jbGFzc2lmaWVkUm9ja2V0TGF5ZXIsIGdldFBvc2l0aW9uLCBqZGF5LCBzYXRWZWxvY2l0eSwgZ2V0VmVsb2NpdHksIHNhbml0aXplU2F0ZWxsaXRlcywgZ2V0U2F0ZWxsaXRlczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZ2V0U2F0ZWxsaXRlcyA9IGZ1bmN0aW9uIF9nZXRTYXRlbGxpdGVzKHNhdGVsbGl0ZXMpIHsKICAgICAgICAgICAgICB2YXIgc2F0UGFjID0gc2FuaXRpemVTYXRlbGxpdGVzKHNhdGVsbGl0ZXMpOwogICAgICAgICAgICAgIHNhdFBhYy5zYXREYXRhU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoc2F0UGFjKTsKICAgICAgICAgICAgICBsZW9TYXRMYXllci5lbmFibGVkID0gc2hvd0xlby52YWx1ZSAmJiBzaG93U2F0LnZhbHVlOwogICAgICAgICAgICAgIG1lb1NhdExheWVyLmVuYWJsZWQgPSBzaG93TWVvLnZhbHVlICYmIHNob3dTYXQudmFsdWU7CiAgICAgICAgICAgICAgaGVvU2F0TGF5ZXIuZW5hYmxlZCA9IHNob3dIZW8udmFsdWUgJiYgc2hvd1NhdC52YWx1ZTsKICAgICAgICAgICAgICBnZW9TYXRMYXllci5lbmFibGVkID0gc2hvd0dlby52YWx1ZSAmJiBzaG93U2F0LnZhbHVlOwogICAgICAgICAgICAgIGxlb0RlYnJpc0xheWVyLmVuYWJsZWQgPSBzaG93TGVvLnZhbHVlICYmIHNob3dEZWJyaXMudmFsdWU7CiAgICAgICAgICAgICAgbWVvRGVicmlzTGF5ZXIuZW5hYmxlZCA9IHNob3dNZW8udmFsdWUgJiYgc2hvd0RlYnJpcy52YWx1ZTsKICAgICAgICAgICAgICBoZW9EZWJyaXNMYXllci5lbmFibGVkID0gc2hvd0hlby52YWx1ZSAmJiBzaG93RGVicmlzLnZhbHVlOwogICAgICAgICAgICAgIGdlb0RlYnJpc0xheWVyLmVuYWJsZWQgPSBzaG93R2VvLnZhbHVlICYmIHNob3dEZWJyaXMudmFsdWU7CiAgICAgICAgICAgICAgbGVvUm9ja2V0TGF5ZXIuZW5hYmxlZCA9IHNob3dMZW8udmFsdWUgJiYgc2hvd1JvY2tldC52YWx1ZTsKICAgICAgICAgICAgICBtZW9Sb2NrZXRMYXllci5lbmFibGVkID0gc2hvd01lby52YWx1ZSAmJiBzaG93Um9ja2V0LnZhbHVlOwogICAgICAgICAgICAgIGhlb1JvY2tldExheWVyLmVuYWJsZWQgPSBzaG93SGVvLnZhbHVlICYmIHNob3dSb2NrZXQudmFsdWU7CiAgICAgICAgICAgICAgZ2VvUm9ja2V0TGF5ZXIuZW5hYmxlZCA9IHNob3dHZW8udmFsdWUgJiYgc2hvd1JvY2tldC52YWx1ZTsKICAgICAgICAgICAgICB1bmNsYXNzaWZpZWRTYXRMYXllci5lbmFibGVkID0gc2hvd1VuYy52YWx1ZSAmJiBzaG93U2F0LnZhbHVlOwogICAgICAgICAgICAgIHVuY2xhc3NpZmllZERlYnJpc0xheWVyLmVuYWJsZWQgPSBzaG93VW5jLnZhbHVlICYmIHNob3dEZWJyaXMudmFsdWU7CiAgICAgICAgICAgICAgdW5jbGFzc2lmaWVkUm9ja2V0TGF5ZXIuZW5hYmxlZCA9IHNob3dVbmMudmFsdWUgJiYgc2hvd1JvY2tldC52YWx1ZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvd0xlby52YWx1ZSBmcm9tIHdvcmxkd2luZDogJywgc2hvd0xlby52YWx1ZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3dNZW8udmFsdWUgZnJvbSB3b3JsZHdpbmQ6ICcsIHNob3dNZW8udmFsdWUpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93SGVvLnZhbHVlIGZyb20gd29ybGR3aW5kOiAnLCBzaG93SGVvLnZhbHVlKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvd0dlby52YWx1ZSBmcm9tIHdvcmxkd2luZDogJywgc2hvd0dlby52YWx1ZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3dVbmMudmFsdWUgZnJvbSB3b3JsZHdpbmQ6ICcsIHNob3dVbmMudmFsdWUpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93U2F0LnZhbHVlIGZyb20gd29ybGR3aW5kOiAnLCBzaG93U2F0LnZhbHVlKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvd0RlYnJpcy52YWx1ZSBmcm9tIHdvcmxkd2luZDogJywgc2hvd0RlYnJpcy52YWx1ZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3dSb2NrZXQudmFsdWUgZnJvbSB3b3JsZHdpbmQ6ICcsIHNob3dSb2NrZXQudmFsdWUpOwogICAgICAgICAgICAgIHZhciBzYXROdW0gPSBzYXRQYWMubGVuZ3RoOyAvL1NhdGVsbGl0ZSBQcm9wYWdhdGlvbgogICAgICAgICAgICAgIC8vcGxvdHMgYWxsIHNhdHMKCiAgICAgICAgICAgICAgcmVuZGVyU2F0cyhzYXRQYWMpOwoKICAgICAgICAgICAgICBmdW5jdGlvbiByZW5kZXJTYXRzKHNhdERhdGEpIHsKICAgICAgICAgICAgICAgIC8vIHRyYWNrZWRQbGFjZWhvbGRlci50ZXh0Q29udGVudCA9IHNhdERhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlbmRlclNhdHM6ICcsIHNhdE51bSk7CiAgICAgICAgICAgICAgICB2YXIgc2F0TmFtZXMgPSBbXTsKICAgICAgICAgICAgICAgIHZhciBzYXRPd25lciA9IFtdOwogICAgICAgICAgICAgICAgdmFyIHNhdERhdGUgPSBbXTsKICAgICAgICAgICAgICAgIHZhciBzYXRTaXRlID0gW107CiAgICAgICAgICAgICAgICB2YXIgc2F0U3RhdHVzID0gW107CiAgICAgICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgIHZhciBldmVyeUN1cnJlbnRQb3NpdGlvbiA9IFtdOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2F0TnVtOyBqKyspIHsKICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbmV3IERhdGUobm93LmdldFRpbWUoKSk7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHZhciB2ZWxvY2l0eSA9IGdldFZlbG9jaXR5KHNhdGVsbGl0ZS50d29saW5lMnNhdHJlYyhzYXREYXRhW2pdLlRMRV9MSU5FMSwgc2F0RGF0YVtqXS5UTEVfTElORTIpLCB0aW1lKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBnZXRQb3NpdGlvbihzYXRlbGxpdGUudHdvbGluZTJzYXRyZWMoc2F0RGF0YVtqXS5UTEVfTElORTEsIHNhdERhdGFbal0uVExFX0xJTkUyKSwgdGltZSk7CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyciArICdFcnJvciBpbiByZW5kZXJTYXRzLCBzYXQgJyArIGogKyAiOiAiICsgc2F0UGFjW2pdLk9CSkVDVF9OQU1FKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBzYXRWZWxvY2l0eS5wdXNoKHZlbG9jaXR5KTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gPSBuZXcgV29ybGRXaW5kLlBvc2l0aW9uKHBvc2l0aW9uLmxhdGl0dWRlLCBwb3NpdGlvbi5sb25naXR1ZGUsIHBvc2l0aW9uLmFsdGl0dWRlKTsKICAgICAgICAgICAgICAgICAgICBldmVyeUN1cnJlbnRQb3NpdGlvbi5wdXNoKGN1cnJlbnRQb3NpdGlvbik7CiAgICAgICAgICAgICAgICAgICAgc2F0U2l0ZS5wdXNoKHNhdERhdGFbal0uTEFVTkNIX1NJVEUpOwogICAgICAgICAgICAgICAgICAgIHNhdE5hbWVzLnB1c2goc2F0RGF0YVtqXS5PQkpFQ1RfTkFNRSk7CiAgICAgICAgICAgICAgICAgICAgc2F0T3duZXIucHVzaChzYXREYXRhW2pdLk9XTkVSKTsKICAgICAgICAgICAgICAgICAgICBzYXRTdGF0dXMucHVzaChzYXREYXRhW2pdLk9QRVJBVElPTkFMX1NUQVRVUyk7CiAgICAgICAgICAgICAgICAgICAgc2F0RGF0ZVtqXSA9IHNhdERhdGFbal0uTEFVTkNIX0RBVEUuc3Vic3RyaW5nKDAsIDQpOwogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIgKyAnIGluIHJlbmRlclNhdHMsIHNhdCAnICsgaik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2F0RGF0YVtqXS5PQkpFQ1RfTkFNRSk7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHZhciBwbGFjZW1hcmtBdHRyaWJ1dGVzID0gbmV3IFdvcmxkV2luZC5QbGFjZW1hcmtBdHRyaWJ1dGVzKG51bGwpOwogICAgICAgICAgICAgICAgICB2YXIgaGlnaGxpZ2h0UGxhY2VtYXJrQXR0cmlidXRlcyA9IG5ldyBXb3JsZFdpbmQuUGxhY2VtYXJrQXR0cmlidXRlcyhwbGFjZW1hcmtBdHRyaWJ1dGVzKTsKICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0UGxhY2VtYXJrQXR0cmlidXRlcy5pbWFnZVNjYWxlID0gMC40OwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBhc3NldHMgLi4uJyk7IC8vIEFkZCBjb2xvcmVkIGltYWdlIGRlcGVuZGluZyBvbiBzYXQgdHlwZQoKICAgICAgICAgICAgICAgICAgc3dpdGNoIChzYXREYXRhW2pdLk9CSkVDVF9UWVBFKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiUEFZTE9BRCI6CiAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1hcmtBdHRyaWJ1dGVzLmltYWdlU291cmNlID0gcGF5bG9hZF9pY29uOwogICAgICAgICAgICAgICAgICAgICAgcGxhY2VtYXJrQXR0cmlidXRlcy5pbWFnZVNjYWxlID0gMC4yOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgIlJPQ0tFVCBCT0RZIjoKICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWFya0F0dHJpYnV0ZXMuaW1hZ2VTb3VyY2UgPSB5ZWxsb3dfZG90OwogICAgICAgICAgICAgICAgICAgICAgcGxhY2VtYXJrQXR0cmlidXRlcy5pbWFnZVNjYWxlID0gMC4yOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1hcmtBdHRyaWJ1dGVzLmltYWdlU291cmNlID0gcmVkX2RvdDsKICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWFya0F0dHJpYnV0ZXMuaW1hZ2VTY2FsZSA9IDAuMjsKICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodFBsYWNlbWFya0F0dHJpYnV0ZXMuaW1hZ2VTY2FsZSA9IDAuMzsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcGxhY2VtYXJrQXR0cmlidXRlcy5pbWFnZU9mZnNldCA9IG5ldyBXb3JsZFdpbmQuT2Zmc2V0KFdvcmxkV2luZC5PRkZTRVRfRlJBQ1RJT04sIDAuNSwgV29ybGRXaW5kLk9GRlNFVF9GUkFDVElPTiwgMC41KTsKICAgICAgICAgICAgICAgICAgcGxhY2VtYXJrQXR0cmlidXRlcy5pbWFnZUNvbG9yID0gV29ybGRXaW5kLkNvbG9yLldISVRFOwogICAgICAgICAgICAgICAgICBwbGFjZW1hcmtBdHRyaWJ1dGVzLmxhYmVsQXR0cmlidXRlcy5vZmZzZXQgPSBuZXcgV29ybGRXaW5kLk9mZnNldChXb3JsZFdpbmQuT0ZGU0VUX0ZSQUNUSU9OLCAwLjUsIFdvcmxkV2luZC5PRkZTRVRfRlJBQ1RJT04sIDEuMCk7CiAgICAgICAgICAgICAgICAgIHBsYWNlbWFya0F0dHJpYnV0ZXMubGFiZWxBdHRyaWJ1dGVzLmNvbG9yID0gV29ybGRXaW5kLkNvbG9yLldISVRFOwogICAgICAgICAgICAgICAgICB2YXIgcGxhY2VtYXJrID0gbmV3IFdvcmxkV2luZC5QbGFjZW1hcmsoZXZlcnlDdXJyZW50UG9zaXRpb25bal0pOwogICAgICAgICAgICAgICAgICBwbGFjZW1hcmsuYWx0aXR1ZGVNb2RlID0gV29ybGRXaW5kLlJFTEFUSVZFX1RPX0dST1VORDsKICAgICAgICAgICAgICAgICAgcGxhY2VtYXJrLmF0dHJpYnV0ZXMgPSBwbGFjZW1hcmtBdHRyaWJ1dGVzOwogICAgICAgICAgICAgICAgICBwbGFjZW1hcmsuaGlnaGxpZ2h0QXR0cmlidXRlcyA9IGhpZ2hsaWdodFBsYWNlbWFya0F0dHJpYnV0ZXM7IC8vRGVmaW5lcyBvcmJpdCByYW5nZXMKCiAgICAgICAgICAgICAgICAgIGlmIChzYXREYXRhW2pdLk9CSkVDVF9UWVBFID09PSAiUEFZTE9BRCIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2F0RGF0YVtqXS5PUkJJVF9UWVBFID09PSAiTG93IEVhcnRoIE9yYml0IikgewogICAgICAgICAgICAgICAgICAgICAgbGVvU2F0TGF5ZXIuYWRkUmVuZGVyYWJsZShwbGFjZW1hcmspOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2F0RGF0YVtqXS5PUkJJVF9UWVBFID09PSAiTWlkZGxlIEVhcnRoIE9yYml0IikgewogICAgICAgICAgICAgICAgICAgICAgbWVvU2F0TGF5ZXIuYWRkUmVuZGVyYWJsZShwbGFjZW1hcmspOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2F0RGF0YVtqXS5PUkJJVF9UWVBFID09PSAiR2Vvc3luY2hyb25vdXMiKSB7CiAgICAgICAgICAgICAgICAgICAgICBnZW9TYXRMYXllci5hZGRSZW5kZXJhYmxlKHBsYWNlbWFyayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYXREYXRhW2pdLk9SQklUX1RZUEUgPT09ICJIaWdobHkgRWxsaXB0aWNhbCBPcmJpdCIpIHsKICAgICAgICAgICAgICAgICAgICAgIGhlb1NhdExheWVyLmFkZFJlbmRlcmFibGUocGxhY2VtYXJrKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNhdERhdGFbal0uT1JCSVRfVFlQRSA9PT0gIlVuY2xhc3NpZmllZCIpIHsKICAgICAgICAgICAgICAgICAgICAgIHVuY2xhc3NpZmllZFNhdExheWVyLmFkZFJlbmRlcmFibGUocGxhY2VtYXJrKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2F0RGF0YVtqXS5PUkJJVF9UWVBFKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2F0RGF0YVtqXS5PQkpFQ1RfVFlQRSA9PT0gIlJPQ0tFVCBCT0RZIikgewogICAgICAgICAgICAgICAgICAgIGlmIChzYXREYXRhW2pdLk9SQklUX1RZUEUgPT09ICJMb3cgRWFydGggT3JiaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBsZW9Sb2NrZXRMYXllci5hZGRSZW5kZXJhYmxlKHBsYWNlbWFyayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYXREYXRhW2pdLk9SQklUX1RZUEUgPT09ICJNaWRkbGUgRWFydGggT3JiaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBtZW9Sb2NrZXRMYXllci5hZGRSZW5kZXJhYmxlKHBsYWNlbWFyayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYXREYXRhW2pdLk9SQklUX1RZUEUgPT09ICJHZW9zeW5jaHJvbm91cyIpIHsKICAgICAgICAgICAgICAgICAgICAgIGdlb1JvY2tldExheWVyLmFkZFJlbmRlcmFibGUocGxhY2VtYXJrKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNhdERhdGFbal0uT1JCSVRfVFlQRSA9PT0gIkhpZ2hseSBFbGxpcHRpY2FsIE9yYml0IikgewogICAgICAgICAgICAgICAgICAgICAgaGVvUm9ja2V0TGF5ZXIuYWRkUmVuZGVyYWJsZShwbGFjZW1hcmspOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2F0RGF0YVtqXS5PUkJJVF9UWVBFID09PSAiVW5jbGFzc2lmaWVkIikgewogICAgICAgICAgICAgICAgICAgICAgdW5jbGFzc2lmaWVkUm9ja2V0TGF5ZXIuYWRkUmVuZGVyYWJsZShwbGFjZW1hcmspOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzYXREYXRhW2pdLk9SQklUX1RZUEUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYXREYXRhW2pdLk9CSkVDVF9UWVBFID09PSAiREVCUklTIikgewogICAgICAgICAgICAgICAgICAgIGlmIChzYXREYXRhW2pdLk9SQklUX1RZUEUgPT09ICJMb3cgRWFydGggT3JiaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBsZW9EZWJyaXNMYXllci5hZGRSZW5kZXJhYmxlKHBsYWNlbWFyayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYXREYXRhW2pdLk9SQklUX1RZUEUgPT09ICJNaWRkbGUgRWFydGggT3JiaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBtZW9EZWJyaXNMYXllci5hZGRSZW5kZXJhYmxlKHBsYWNlbWFyayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYXREYXRhW2pdLk9SQklUX1RZUEUgPT09ICJHZW9zeW5jaHJvbm91cyIpIHsKICAgICAgICAgICAgICAgICAgICAgIGdlb0RlYnJpc0xheWVyLmFkZFJlbmRlcmFibGUocGxhY2VtYXJrKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNhdERhdGFbal0uT1JCSVRfVFlQRSA9PT0gIkhpZ2hseSBFbGxpcHRpY2FsIE9yYml0IikgewogICAgICAgICAgICAgICAgICAgICAgaGVvRGVicmlzTGF5ZXIuYWRkUmVuZGVyYWJsZShwbGFjZW1hcmspOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2F0RGF0YVtqXS5PUkJJVF9UWVBFID09PSAiVW5jbGFzc2lmaWVkIikgewogICAgICAgICAgICAgICAgICAgICAgdW5jbGFzc2lmaWVkRGVicmlzTGF5ZXIuYWRkUmVuZGVyYWJsZShwbGFjZW1hcmspOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzYXREYXRhW2pdLk9SQklUX1RZUEUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAvL0VuZCBvZiBmb3IgICAKCiAgICAgICAgICAgICAgICAvKgogICAgICAgICAgICAgICAgLy8gSW50ZXJ2YWwgdG8gVXBkYXRlIGFsbCBTYXRlbGxpdGUgUG9zaXRpb25zCiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlVGltZSA9IDIwMDAKICAgICAgICAgICAgICAgIHZhciB1cGRhdGVQZXJtaXNzaW9uID0gdHJ1ZQogICAgICAgICAgICAgICAgLy91cGRhdGVQb3NpdGlvbnMoKQogICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGVQb3NpdGlvbnM6ICcsIHVwZGF0ZVBvc2l0aW9ucykKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVBvc2l0aW9ucyA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZVBlcm1pc3Npb24pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5keCA9IDA7IGluZHggPCBzYXROdW07IGluZHggKz0gMSkgewogICAgICAgICAgICAgICAgICAgIHZhciB0aW1lU2xpZGUgPSA1MDAgLy8kKCcjdGltZUV2ZW50JykuanF4U2xpZGVyKCd2YWx1ZScpOwogICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIHRpbWVTbGlkZSAqIDYwMDAwKTsgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBnZXRQb3NpdGlvbihzYXRlbGxpdGUudHdvbGluZTJzYXRyZWMoc2F0RGF0YVtpbmR4XS5UTEVfTElORTEsIHNhdERhdGFbaW5keF0uVExFX0xJTkUyKSwgdGltZSk7CiAgICAgICAgICAgICAgICAgICAgICBzYXRWZWxvY2l0eVtpbmR4XSA9IGdldFZlbG9jaXR5KHNhdGVsbGl0ZS50d29saW5lMnNhdHJlYyhzYXREYXRhW2luZHhdLlRMRV9MSU5FMSwgc2F0RGF0YVtpbmR4XS5UTEVfTElORTIpLCB0aW1lKTsKICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIgKyAnIGluIHVwZGF0ZVBvc2l0aW9ucyBpbnRlcnZhbCwgc2F0ICcgKyBpbmR4ICsgc2F0UGFjW2luZHhdLk9CSkVDVF9OQU1FKTsKICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgZXZlcnlDdXJyZW50UG9zaXRpb25baW5keF0ubGF0aXR1ZGUgPSBwb3NpdGlvbi5sYXRpdHVkZTsKICAgICAgICAgICAgICAgICAgICAgIGV2ZXJ5Q3VycmVudFBvc2l0aW9uW2luZHhdLmxvbmdpdHVkZSA9IHBvc2l0aW9uLmxvbmdpdHVkZTsKICAgICAgICAgICAgICAgICAgICAgIGV2ZXJ5Q3VycmVudFBvc2l0aW9uW2luZHhdLmFsdGl0dWRlID0gcG9zaXRpb24uYWx0aXR1ZGU7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAvL1RPRE86IEhhbmRsZSBkZW9yYml0ZWQgc2F0cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB3d2QucmVkcmF3KCk7CiAgICAgICAgICAgICAgICB9LCB1cGRhdGVUaW1lICogMS41KTsKICAgICAgICAgICAgICAgICovCgoKICAgICAgICAgICAgICAgIHd3ZC5yZWRyYXcoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBzYW5pdGl6ZVNhdGVsbGl0ZXMgPSBmdW5jdGlvbiBfc2FuaXRpemVTYXRlbGxpdGVzKG9iamVjdEFycmF5KSB7CiAgICAgICAgICAgICAgdmFyIGZhdWx0eVNhdGVsbGl0ZXMgPSAwOwogICAgICAgICAgICAgIHZhciByZXN1bHRBcnJheSA9IFtdOwogICAgICAgICAgICAgIHZhciBtYXhTYXRzID0gb2JqZWN0QXJyYXkubGVuZ3RoOwogICAgICAgICAgICAgIHZhciB1cGRhdGVUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2codXBkYXRlVGltZSk7CiAgICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpKTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhTYXRzOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKHNhdGVsbGl0ZS50d29saW5lMnNhdHJlYyhvYmplY3RBcnJheVtpXS5UTEVfTElORTEsIG9iamVjdEFycmF5W2ldLlRMRV9MSU5FMiksIHRpbWUpOwogICAgICAgICAgICAgICAgICB2YXIgdmVsb2NpdHkgPSBnZXRWZWxvY2l0eShzYXRlbGxpdGUudHdvbGluZTJzYXRyZWMob2JqZWN0QXJyYXlbaV0uVExFX0xJTkUxLCBvYmplY3RBcnJheVtpXS5UTEVfTElORTIpLCB0aW1lKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhvYmplY3RBcnJheVtpXS5PQkpFQ1RfTkFNRSArIiBpcyBhIGZhdWx0eSBzYXQgaXQgaXMgIiArIGkpOwogICAgICAgICAgICAgICAgICBmYXVsdHlTYXRlbGxpdGVzICs9IDE7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0QXJyYXlbaV0uTEFVTkNIX0RBVEUgPT09ICJ1bmRlZmluZWQiKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIHJlc3VsdEFycmF5LnB1c2gob2JqZWN0QXJyYXlbaV0pOwogICAgICAgICAgICAgIH0gLy9jb25zb2xlLmxvZygnb2JqZWN0QXJyYXlbaV06ICcsIG9iamVjdEFycmF5WzBdKSAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwb3NpdGlvbjogJywgcG9zaXRpb24pIC8gY29uc29sZS5sb2coJ3ZlbG9jaXR5OiAnLCB2ZWxvY2l0eSk7CiAgICAgICAgICAgICAgdXBkYXRlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdXBkYXRlVGltZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmF1bHR5U2F0ZWxsaXRlczogJywgZmF1bHR5U2F0ZWxsaXRlcyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cob2JqZWN0QXJyYXkubGVuZ3RoICsgIiBmcm9tIHVuY2xlYW5zZWQiKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRBcnJheS5sZW5ndGggKyAiIGZyb20gY2xlYW5zZWQiKTsKICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0QXJyYXk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBnZXRWZWxvY2l0eSA9IGZ1bmN0aW9uIF9nZXRWZWxvY2l0eShzYXRyZWMsIHRpbWUpIHsKICAgICAgICAgICAgICB2YXIgaiA9IGpkYXkodGltZS5nZXRVVENGdWxsWWVhcigpLCB0aW1lLmdldFVUQ01vbnRoKCkgKyAxLCAvLyBOb3RlLCB0aGlzIGZ1bmN0aW9uIHJlcXVpcmVzIG1vbnRocyBpbiByYW5nZSAxLTEyLgogICAgICAgICAgICAgIHRpbWUuZ2V0VVRDRGF0ZSgpLCB0aW1lLmdldFVUQ0hvdXJzKCksIHRpbWUuZ2V0VVRDTWludXRlcygpLCB0aW1lLmdldFVUQ1NlY29uZHMoKSk7CiAgICAgICAgICAgICAgaiArPSB0aW1lLmdldFVUQ01pbGxpc2Vjb25kcygpICogMS4xNTc0MWUtODsKICAgICAgICAgICAgICB2YXIgbSA9IChqIC0gc2F0cmVjLmpkc2F0ZXBvY2gpICogMTQ0MC4wOwogICAgICAgICAgICAgIHZhciBwdiA9IHNhdGVsbGl0ZS5zZ3A0KHNhdHJlYywgbSk7CiAgICAgICAgICAgICAgdmFyIHZ4LCB2eSwgdno7CiAgICAgICAgICAgICAgdnggPSBwdi52ZWxvY2l0eS54OwogICAgICAgICAgICAgIHZ5ID0gcHYudmVsb2NpdHkueTsKICAgICAgICAgICAgICB2eiA9IHB2LnZlbG9jaXR5Lno7CiAgICAgICAgICAgICAgdmFyIHNhdFZlbG9jaXR5ID0gTWF0aC5zcXJ0KHZ4ICogdnggKyB2eSAqIHZ5ICsgdnogKiB2eik7CiAgICAgICAgICAgICAgcmV0dXJuIHNhdFZlbG9jaXR5OwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgamRheSA9IGZ1bmN0aW9uIF9qZGF5KHllYXIsIG1vbiwgZGF5LCBociwgbWludXRlLCBzZWMpIHsKICAgICAgICAgICAgICAndXNlIHN0cmljdCc7CgogICAgICAgICAgICAgIHJldHVybiAzNjcuMCAqIHllYXIgLSBNYXRoLmZsb29yKDcgKiAoeWVhciArIE1hdGguZmxvb3IoKG1vbiArIDkpIC8gMTIuMCkpICogMC4yNSkgKyBNYXRoLmZsb29yKDI3NSAqIG1vbiAvIDkuMCkgKyBkYXkgKyAxNzIxMDEzLjUgKyAoKHNlYyAvIDYwLjAgKyBtaW51dGUpIC8gNjAuMCArIGhyKSAvIDI0LjAgLy8gIHV0IGluIGRheXMKICAgICAgICAgICAgICAvLyMgIC0gMC41KnNnbigxMDAuMCp5ZWFyICsgbW9uIC0gMTkwMDAyLjUpICsgMC41OwogICAgICAgICAgICAgIDsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGdldFBvc2l0aW9uID0gZnVuY3Rpb24gX2dldFBvc2l0aW9uKHNhdHJlYywgdGltZSkgewogICAgICAgICAgICAgIHZhciBwb3NpdGlvbl9hbmRfdmVsb2NpdHkgPSBzYXRlbGxpdGUucHJvcGFnYXRlKHNhdHJlYywgdGltZS5nZXRVVENGdWxsWWVhcigpLCB0aW1lLmdldFVUQ01vbnRoKCkgKyAxLCB0aW1lLmdldFVUQ0RhdGUoKSwgdGltZS5nZXRVVENIb3VycygpLCB0aW1lLmdldFVUQ01pbnV0ZXMoKSwgdGltZS5nZXRVVENTZWNvbmRzKCkpOwogICAgICAgICAgICAgIHZhciBwb3NpdGlvbl9lY2kgPSBwb3NpdGlvbl9hbmRfdmVsb2NpdHlbInBvc2l0aW9uIl07CiAgICAgICAgICAgICAgdmFyIGdtc3QgPSBzYXRlbGxpdGUuZ3N0aW1lKHRpbWUuZ2V0VVRDRnVsbFllYXIoKSwgdGltZS5nZXRVVENNb250aCgpICsgMSwgdGltZS5nZXRVVENEYXRlKCksIHRpbWUuZ2V0VVRDSG91cnMoKSwgdGltZS5nZXRVVENNaW51dGVzKCksIHRpbWUuZ2V0VVRDU2Vjb25kcygpKTsKICAgICAgICAgICAgICB2YXIgcG9zaXRpb25fZ2QgPSBzYXRlbGxpdGUuZWNpVG9HZW9kZXRpYyhwb3NpdGlvbl9lY2ksIGdtc3QpOwogICAgICAgICAgICAgIHZhciBsYXRpdHVkZSA9IHNhdGVsbGl0ZS5kZWdyZWVzTGF0KHBvc2l0aW9uX2dkWyJsYXRpdHVkZSJdKTsKICAgICAgICAgICAgICB2YXIgbG9uZ2l0dWRlID0gc2F0ZWxsaXRlLmRlZ3JlZXNMb25nKHBvc2l0aW9uX2dkWyJsb25naXR1ZGUiXSk7CiAgICAgICAgICAgICAgdmFyIGFsdGl0dWRlID0gcG9zaXRpb25fZ2RbImhlaWdodCJdICogMTAwMDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmxkV2luZC5Qb3NpdGlvbihsYXRpdHVkZSwgbG9uZ2l0dWRlLCBhbHRpdHVkZSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICAgICAgICAgIGNlbGVzdGlhbF9vYmplY3RzID0gc3RvcmUuc3RhdGUuY2VsZXN0aWFsX29iamVjdHM7CiAgICAgICAgICAgIHNob3dMZW8gPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNlbGVzdGlhbF9vYmplY3RzLnNob3dMZW87CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzaG93TWVvID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBjZWxlc3RpYWxfb2JqZWN0cy5zaG93TWVvOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2hvd0hlbyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gY2VsZXN0aWFsX29iamVjdHMuc2hvd0hlbzsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNob3dHZW8gPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNlbGVzdGlhbF9vYmplY3RzLnNob3dHZW87CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzaG93VW5jID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBjZWxlc3RpYWxfb2JqZWN0cy5zaG93VW5jOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2hvd1NhdCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gY2VsZXN0aWFsX29iamVjdHMuc2hvd1NhdDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNob3dEZWJyaXMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNlbGVzdGlhbF9vYmplY3RzLnNob3dEZWJyaXM7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzaG93Um9ja2V0ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBjZWxlc3RpYWxfb2JqZWN0cy5zaG93Um9ja2V0OwogICAgICAgICAgICB9KTsgLy8gQ3JlYXRlIGEgV29ybGRXaW5kb3cgZm9yIHRoZSBjYW52YXMuCgogICAgICAgICAgICB3d2QgPSBuZXcgV29ybGRXaW5kLldvcmxkV2luZG93KCJjYW52YXNPbmUiKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKG5ldyBXb3JsZFdpbmQuQk1OR09uZUltYWdlTGF5ZXIoKSk7CiAgICAgICAgICAgIHd3ZC5hZGRMYXllcihuZXcgV29ybGRXaW5kLkJNTkdMYXllcigpKTsgLy8gQWRkaW5nIHN0YXIgYW5kIGF0bW9zcGhlcmUgbGF5ZXI6ICAgIAoKICAgICAgICAgICAgc3RhckZpZWxkTGF5ZXIgPSBuZXcgV29ybGRXaW5kLlN0YXJGaWVsZExheWVyKCk7CiAgICAgICAgICAgIHd3ZC5hZGRMYXllcihzdGFyRmllbGRMYXllcik7CiAgICAgICAgICAgIGF0bW9zcGhlcmVMYXllciA9IG5ldyBXb3JsZFdpbmQuQXRtb3NwaGVyZUxheWVyKCk7CiAgICAgICAgICAgIHd3ZC5hZGRMYXllcihhdG1vc3BoZXJlTGF5ZXIpOwogICAgICAgICAgICBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFyRmllbGRMYXllci50aW1lID0gbm93OwogICAgICAgICAgICBhdG1vc3BoZXJlTGF5ZXIudGltZSA9IG5vdzsKICAgICAgICAgICAgd3dkLmFkZExheWVyKG5ldyBXb3JsZFdpbmQuQ29vcmRpbmF0ZXNEaXNwbGF5TGF5ZXIod3dkKSk7IC8vIEFkZGluZyBjdXN0b20gbGF5ZXJzCgogICAgICAgICAgICBvcmJpdHNIb3ZlckxheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoKTsKICAgICAgICAgICAgbW9kZWxMYXllciA9IG5ldyBXb3JsZFdpbmQuUmVuZGVyYWJsZUxheWVyKCJNb2RlbCIpOwogICAgICAgICAgICBtZXNoTGF5ZXIgPSBuZXcgV29ybGRXaW5kLlJlbmRlcmFibGVMYXllcigpOwogICAgICAgICAgICBvcmJpdHNMYXllciA9IG5ldyBXb3JsZFdpbmQuUmVuZGVyYWJsZUxheWVyKCJPcmJpdCIpOwogICAgICAgICAgICBsZW9TYXRMYXllciA9IG5ldyBXb3JsZFdpbmQuUmVuZGVyYWJsZUxheWVyKCJMRU8gUGF5bG9hZHMiKTsKICAgICAgICAgICAgbWVvU2F0TGF5ZXIgPSBuZXcgV29ybGRXaW5kLlJlbmRlcmFibGVMYXllcigiTUVPIFBheWxvYWRzIik7CiAgICAgICAgICAgIGhlb1NhdExheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIkhFTyBQYXlsb2FkcyIpOwogICAgICAgICAgICBnZW9TYXRMYXllciA9IG5ldyBXb3JsZFdpbmQuUmVuZGVyYWJsZUxheWVyKCJHRU8gUGF5bG9hZHMiKTsKICAgICAgICAgICAgdW5jbGFzc2lmaWVkU2F0TGF5ZXIgPSBuZXcgV29ybGRXaW5kLlJlbmRlcmFibGVMYXllcigiVW5jbGFzc2lmaWVkIFBheWxvYWRzIik7CiAgICAgICAgICAgIGxlb0RlYnJpc0xheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIkxFTyBEZWJyaXMiKTsKICAgICAgICAgICAgbWVvRGVicmlzTGF5ZXIgPSBuZXcgV29ybGRXaW5kLlJlbmRlcmFibGVMYXllcigiTUVPIERlYnJpcyIpOwogICAgICAgICAgICBoZW9EZWJyaXNMYXllciA9IG5ldyBXb3JsZFdpbmQuUmVuZGVyYWJsZUxheWVyKCJIRU8gRGVicmlzIik7CiAgICAgICAgICAgIGdlb0RlYnJpc0xheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIkdFTyBEZWJyaXMiKTsKICAgICAgICAgICAgdW5jbGFzc2lmaWVkRGVicmlzTGF5ZXIgPSBuZXcgV29ybGRXaW5kLlJlbmRlcmFibGVMYXllcigiVW5jbGFzc2lmaWVkRGVicmlzIik7CiAgICAgICAgICAgIGxlb1JvY2tldExheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIkxFTyBSb2NrZXQgQm9kaWVzIik7CiAgICAgICAgICAgIG1lb1JvY2tldExheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIk1FTyBSb2NrZXQgQm9kaWVzIik7CiAgICAgICAgICAgIGhlb1JvY2tldExheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIkhFTyBSb2NrZXQgQm9kaWVzIik7CiAgICAgICAgICAgIGdlb1JvY2tldExheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIkdFTyBSb2NrZXQgQm9kaWVzIik7CiAgICAgICAgICAgIHVuY2xhc3NpZmllZFJvY2tldExheWVyID0gbmV3IFdvcmxkV2luZC5SZW5kZXJhYmxlTGF5ZXIoIlVuY2xhc3NpZmllZCBSb2NrZXQgQm9kaWVzIik7CiAgICAgICAgICAgIHd3ZC5hZGRMYXllcihvcmJpdHNIb3ZlckxheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGxlb1NhdExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKG1lb1NhdExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGhlb1NhdExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGdlb1NhdExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKHVuY2xhc3NpZmllZFNhdExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGxlb0RlYnJpc0xheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKG1lb0RlYnJpc0xheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGhlb0RlYnJpc0xheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGdlb0RlYnJpc0xheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKHVuY2xhc3NpZmllZFJvY2tldExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGxlb1JvY2tldExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKG1lb1JvY2tldExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGhlb1JvY2tldExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKGdlb1JvY2tldExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKHVuY2xhc3NpZmllZFJvY2tldExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKG1lc2hMYXllcik7CiAgICAgICAgICAgIHd3ZC5hZGRMYXllcihtb2RlbExheWVyKTsKICAgICAgICAgICAgd3dkLmFkZExheWVyKG9yYml0c0xheWVyKTsgLy8gR2V0IHBvc2l0aW9uIG9mIGV2ZXJ5IHNhdGVsbGl0ZQoKICAgICAgICAgICAgc2F0VmVsb2NpdHkgPSBbXTsKICAgICAgICAgICAgZ2V0U2F0ZWxsaXRlcyhUTEVfREFUQSk7CiAgICAgICAgICAgIHd3ZC5yZWRyYXcoKTsKCiAgICAgICAgICBjYXNlIDY3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIGxhdW5jaEdsb2JlKCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7"},{"version":3,"sources":["/home/avocado/Documents/NASA/01_space_tracker_ui/src/services/WorldWindService.js"],"names":["computed","useStore","WorldWind","satellite","require","payload_icon","yellow_dot","red_dot","TLE_DATA","launchGlobe","getPosition","jday","getVelocity","sanitizeSatellites","getSatellites","satellites","satPac","satDataString","JSON","stringify","leoSatLayer","enabled","showLeo","value","showSat","meoSatLayer","showMeo","heoSatLayer","showHeo","geoSatLayer","showGeo","leoDebrisLayer","showDebris","meoDebrisLayer","heoDebrisLayer","geoDebrisLayer","leoRocketLayer","showRocket","meoRocketLayer","heoRocketLayer","geoRocketLayer","unclassifiedSatLayer","showUnc","unclassifiedDebrisLayer","unclassifiedRocketLayer","console","log","satNum","length","renderSats","satData","satNames","satOwner","satDate","satSite","satStatus","now","Date","everyCurrentPosition","j","currentPosition","time","getTime","velocity","twoline2satrec","TLE_LINE1","TLE_LINE2","position","err","OBJECT_NAME","satVelocity","push","Position","latitude","longitude","altitude","LAUNCH_SITE","OWNER","OPERATIONAL_STATUS","LAUNCH_DATE","substring","placemarkAttributes","PlacemarkAttributes","highlightPlacemarkAttributes","imageScale","OBJECT_TYPE","imageSource","imageOffset","Offset","OFFSET_FRACTION","imageColor","Color","WHITE","labelAttributes","offset","color","placemark","Placemark","altitudeMode","RELATIVE_TO_GROUND","attributes","highlightAttributes","ORBIT_TYPE","addRenderable","wwd","redraw","objectArray","faultySatellites","resultArray","maxSats","updateTime","performance","i","satrec","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","m","jdsatepoch","pv","sgp4","vx","vy","vz","x","y","z","Math","sqrt","year","mon","day","hr","minute","sec","floor","position_and_velocity","propagate","position_eci","gmst","gstime","position_gd","eciToGeodetic","degreesLat","degreesLong","store","celestial_objects","state","WorldWindow","addLayer","BMNGOneImageLayer","BMNGLayer","starFieldLayer","StarFieldLayer","atmosphereLayer","AtmosphereLayer","CoordinatesDisplayLayer","orbitsHoverLayer","RenderableLayer","modelLayer","meshLayer","orbitsLayer"],"mappings":"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","sourcesContent":["import { computed } from 'vue'\nimport { useStore } from 'vuex'\n\nimport WorldWind from '@nasaworldwind/worldwind'\nvar satellite = require('satellite.js');\n\nimport payload_icon from '../assets/icons/satellite.png'\nimport yellow_dot from '../assets/icons/yellow_dot.png'\nimport red_dot from '../assets/icons/red_dot.png'\n\n\n//import TLE_DATA from '../tle_data/basicTLE.json'\n//import TLE_DATA from '../tle_data/TLE.json' // Not working\nimport TLE_DATA from '../tle_data/TLE2.json' // Working fine\n\n\nexport const launchGlobe = async () => { \n  \n    const store = useStore()\n    const {\n      state: { celestial_objects },      \n    } = store\n    \n    const showLeo = computed(() => celestial_objects.showLeo)\n    const showMeo = computed(() => celestial_objects.showMeo)\n    const showHeo = computed(() => celestial_objects.showHeo)\n    const showGeo = computed(() => celestial_objects.showGeo)\n    const showUnc = computed(() => celestial_objects.showUnc)\n    const showSat = computed(() => celestial_objects.showSat)\n    const showDebris = computed(() => celestial_objects.showDebris)\n    const showRocket = computed(() => celestial_objects.showRocket)\n\n\n\n    // Create a WorldWindow for the canvas.\n    var wwd = new WorldWind.WorldWindow(\"canvasOne\");\n    wwd.addLayer(new WorldWind.BMNGOneImageLayer());        \n    wwd.addLayer(new WorldWind.BMNGLayer());\n    \n    // Adding star and atmosphere layer:    \n    var starFieldLayer = new WorldWind.StarFieldLayer();    \n    wwd.addLayer(starFieldLayer);    \n    var atmosphereLayer = new WorldWind.AtmosphereLayer();    \n    wwd.addLayer(atmosphereLayer);\n    var now = new Date();\n    starFieldLayer.time = now;\n    atmosphereLayer.time = now;\n       \n    wwd.addLayer(new WorldWind.CoordinatesDisplayLayer(wwd));\n\n\n    // Adding custom layers\n    var orbitsHoverLayer = new WorldWind.RenderableLayer();\n    var modelLayer = new WorldWind.RenderableLayer(\"Model\");\n    var meshLayer = new WorldWind.RenderableLayer();\n\n    var orbitsLayer = new WorldWind.RenderableLayer(\"Orbit\");\n    var leoSatLayer = new WorldWind.RenderableLayer(\"LEO Payloads\");\n    var meoSatLayer = new WorldWind.RenderableLayer(\"MEO Payloads\");\n    var heoSatLayer = new WorldWind.RenderableLayer(\"HEO Payloads\");\n    var geoSatLayer = new WorldWind.RenderableLayer(\"GEO Payloads\");\n    var unclassifiedSatLayer = new WorldWind.RenderableLayer(\"Unclassified Payloads\");\n\n    var leoDebrisLayer = new WorldWind.RenderableLayer(\"LEO Debris\");\n    var meoDebrisLayer = new WorldWind.RenderableLayer(\"MEO Debris\");\n    var heoDebrisLayer = new WorldWind.RenderableLayer(\"HEO Debris\");\n    var geoDebrisLayer = new WorldWind.RenderableLayer(\"GEO Debris\");\n    var unclassifiedDebrisLayer = new WorldWind.RenderableLayer(\"UnclassifiedDebris\");\n\n    var leoRocketLayer = new WorldWind.RenderableLayer(\"LEO Rocket Bodies\");\n    var meoRocketLayer = new WorldWind.RenderableLayer(\"MEO Rocket Bodies\");\n    var heoRocketLayer = new WorldWind.RenderableLayer(\"HEO Rocket Bodies\");\n    var geoRocketLayer = new WorldWind.RenderableLayer(\"GEO Rocket Bodies\");\n    var unclassifiedRocketLayer = new WorldWind.RenderableLayer(\"Unclassified Rocket Bodies\");\n\n\n    wwd.addLayer(orbitsHoverLayer);\n    wwd.addLayer(leoSatLayer);\n    wwd.addLayer(meoSatLayer);\n    wwd.addLayer(heoSatLayer);\n    wwd.addLayer(geoSatLayer);\n    wwd.addLayer(unclassifiedSatLayer);\n    \n    wwd.addLayer(leoDebrisLayer);\n    wwd.addLayer(meoDebrisLayer);\n    wwd.addLayer(heoDebrisLayer);\n    wwd.addLayer(geoDebrisLayer);\n    wwd.addLayer(unclassifiedRocketLayer);\n\n    wwd.addLayer(leoRocketLayer);\n    wwd.addLayer(meoRocketLayer);\n    wwd.addLayer(heoRocketLayer);\n    wwd.addLayer(geoRocketLayer);\n    wwd.addLayer(unclassifiedRocketLayer);\n    \n    wwd.addLayer(meshLayer);\n    wwd.addLayer(modelLayer);\n    wwd.addLayer(orbitsLayer);\n\n\n    // Get position of every satellite\n    function getPosition(satrec, time) {\n        var position_and_velocity = satellite.propagate(satrec,\n        time.getUTCFullYear(),\n        time.getUTCMonth() + 1,\n        time.getUTCDate(),\n        time.getUTCHours(),\n        time.getUTCMinutes(),\n        time.getUTCSeconds());\n        var position_eci = position_and_velocity[\"position\"];\n            \n        var gmst = satellite.gstime(time.getUTCFullYear(),\n        time.getUTCMonth() + 1,\n        time.getUTCDate(),\n        time.getUTCHours(),\n        time.getUTCMinutes(),\n        time.getUTCSeconds());\n            \n        var position_gd = satellite.eciToGeodetic(position_eci, gmst);\n        var latitude = satellite.degreesLat(position_gd[\"latitude\"]);\n        var longitude = satellite.degreesLong(position_gd[\"longitude\"]);\n        var altitude = position_gd[\"height\"] * 1000;\n    \n        return new WorldWind.Position(latitude, longitude, altitude);\n    }\n\n    function jday(year, mon, day, hr, minute, sec) {\n        'use strict';\n        return (367.0 * year -\n          Math.floor((7 * (year + Math.floor((mon + 9) / 12.0))) * 0.25) +\n          Math.floor(275 * mon / 9.0) +\n          day + 1721013.5 +\n          ((sec / 60.0 + minute) / 60.0 + hr) / 24.0  //  ut in days\n          //#  - 0.5*sgn(100.0*year + mon - 190002.5) + 0.5;\n        );\n    }\n    \n    var satVelocity = [];\n    function getVelocity(satrec, time) {\n    \n        var j = jday(time.getUTCFullYear(),\n        time.getUTCMonth() + 1, // Note, this function requires months in range 1-12.\n        time.getUTCDate(),\n        time.getUTCHours(),\n        time.getUTCMinutes(),\n        time.getUTCSeconds());\n        j += time.getUTCMilliseconds() * 1.15741e-8;\n                \n        var m = (j - satrec.jdsatepoch) * 1440.0;\n        var pv = satellite.sgp4(satrec, m);\n        var vx, vy, vz;\n        \n        vx = pv.velocity.x;\n        vy = pv.velocity.y;\n        vz = pv.velocity.z;\n        \n        var satVelocity = Math.sqrt(\n            vx * vx +\n            vy * vy +\n            vz * vz\n        );\n        return satVelocity;\n    }\n\n    // Purifies non-working satellites\n    function sanitizeSatellites(objectArray) {\n      var faultySatellites = 0;\n      var resultArray = [];\n      var maxSats = objectArray.length;\n      var updateTime = performance.now();\n      console.log(updateTime)\n      var now = new Date();\n      var time = new Date(now.getTime());\n      for (var i = 0; i < maxSats; i += 1) {\n          \n          try {\n\n              var position = getPosition(satellite.twoline2satrec(objectArray[i].TLE_LINE1, objectArray[i].TLE_LINE2), time);\n              var velocity = getVelocity(satellite.twoline2satrec(objectArray[i].TLE_LINE1, objectArray[i].TLE_LINE2), time);                \n\n          } catch (err) {\n              // console.log(objectArray[i].OBJECT_NAME +\" is a faulty sat it is \" + i);\n              faultySatellites += 1;                \n              continue;\n          }        \n          \n          if(typeof objectArray[i].LAUNCH_DATE === \"undefined\") continue;            \n\n          resultArray.push(objectArray[i]);\n      }\n      //console.log('objectArray[i]: ', objectArray[0])                \n      console.log('position: ', position)\n      /console.log('velocity: ', velocity)\n      updateTime = performance.now() - updateTime;\n      console.log('faultySatellites: ',faultySatellites);\n      console.log(objectArray.length + \" from uncleansed\");\n      console.log(resultArray.length + \" from cleansed\");        \n      return resultArray;\n    }\n\n    getSatellites(TLE_DATA)\n    \n    function getSatellites(satellites) {\n        var satPac = sanitizeSatellites(satellites);\n        satPac.satDataString = JSON.stringify(satPac);\n    \n\n        leoSatLayer.enabled = (showLeo.value && showSat.value);\n        meoSatLayer.enabled = (showMeo.value && showSat.value);\n        heoSatLayer.enabled = (showHeo.value && showSat.value);\n        geoSatLayer.enabled = (showGeo.value && showSat.value);\n                           \n        leoDebrisLayer.enabled = (showLeo.value && showDebris.value);\n        meoDebrisLayer.enabled = (showMeo.value && showDebris.value);\n        heoDebrisLayer.enabled = (showHeo.value && showDebris.value);\n        geoDebrisLayer.enabled = (showGeo.value && showDebris.value);\n        \n        leoRocketLayer.enabled = (showLeo.value && showRocket.value);\n        meoRocketLayer.enabled = (showMeo.value && showRocket.value);\n        heoRocketLayer.enabled = (showHeo.value && showRocket.value);\n        geoRocketLayer.enabled = (showGeo.value && showRocket.value);\n\n        unclassifiedSatLayer.enabled = (showUnc.value && showSat.value);\n        unclassifiedDebrisLayer.enabled = (showUnc.value && showDebris.value);\n        unclassifiedRocketLayer.enabled = (showUnc.value && showRocket.value);\n        \n\n        console.log('showLeo.value from worldwind: ', showLeo.value)\n        console.log('showMeo.value from worldwind: ', showMeo.value)\n        console.log('showHeo.value from worldwind: ', showHeo.value)\n        console.log('showGeo.value from worldwind: ', showGeo.value)\n        console.log('showUnc.value from worldwind: ', showUnc.value)\n        console.log('showSat.value from worldwind: ', showSat.value)\n        console.log('showDebris.value from worldwind: ', showDebris.value)\n        console.log('showRocket.value from worldwind: ', showRocket.value)\n\n        var satNum = satPac.length;    \n\n        //Satellite Propagation\n        //plots all sats\n        renderSats(satPac);\n\n\n        function renderSats(satData) {\n          // trackedPlaceholder.textContent = satData.length;\n          console.log('renderSats: ', satNum)\n          var satNames = [];\n          var satOwner = [];\n          var satDate = [];\n          var satSite = [];\n          var satStatus = [];\n          var now = new Date();\n          var everyCurrentPosition = [];\n                    \n          for (var j = 0; j < satNum; j++) {\n\n            var currentPosition = null;\n            var time = new Date(now.getTime());\n    \n            try {\n              var velocity = getVelocity(satellite.twoline2satrec(satData[j].TLE_LINE1, satData[j].TLE_LINE2), time);\n              var position = getPosition(satellite.twoline2satrec(satData[j].TLE_LINE1, satData[j].TLE_LINE2), time);\n            } catch (err) {\n              console.log(err + 'Error in renderSats, sat ' + j +  \": \" + satPac[j].OBJECT_NAME);\n              continue;\n            }\n\n            try {                \n                satVelocity.push(velocity);\n                currentPosition = new WorldWind.Position(position.latitude,\n                position.longitude,\n                position.altitude);\n                everyCurrentPosition.push(currentPosition);\n                satSite.push(satData[j].LAUNCH_SITE);\n                satNames.push(satData[j].OBJECT_NAME);\n                satOwner.push(satData[j].OWNER);\n                satStatus.push(satData[j].OPERATIONAL_STATUS);\n                satDate[j] = satData[j].LAUNCH_DATE.substring(0, 4);\n            } catch (err) {                \n                console.log(err + ' in renderSats, sat ' + j);\n                console.log(satData[j].OBJECT_NAME);\n              continue;\n            }\n\n\n            var placemarkAttributes = new WorldWind.PlacemarkAttributes(null);\n            var highlightPlacemarkAttributes = new WorldWind.PlacemarkAttributes(placemarkAttributes);\n            highlightPlacemarkAttributes.imageScale = 0.4;\n    \n            console.log('Loading assets ...')\n\n            // Add colored image depending on sat type\n            switch (satData[j].OBJECT_TYPE) {              \n              case \"PAYLOAD\":\n                placemarkAttributes.imageSource = payload_icon;\n                placemarkAttributes.imageScale = 0.2;\n                break;\n              case \"ROCKET BODY\":\n                placemarkAttributes.imageSource = yellow_dot;\n                placemarkAttributes.imageScale = 0.2;\n                break;\n              default:\n                placemarkAttributes.imageSource = red_dot;\n                placemarkAttributes.imageScale = 0.2;\n                highlightPlacemarkAttributes.imageScale = 0.3;\n            }\n    \n            placemarkAttributes.imageOffset = new WorldWind.Offset(\n              WorldWind.OFFSET_FRACTION, 0.5,\n              WorldWind.OFFSET_FRACTION, 0.5);\n            placemarkAttributes.imageColor = WorldWind.Color.WHITE;\n            placemarkAttributes.labelAttributes.offset = new WorldWind.Offset(\n              WorldWind.OFFSET_FRACTION, 0.5,\n              WorldWind.OFFSET_FRACTION, 1.0);\n            placemarkAttributes.labelAttributes.color = WorldWind.Color.WHITE;\n    \n    \n            var placemark = new WorldWind.Placemark(everyCurrentPosition[j]);\n            placemark.altitudeMode = WorldWind.RELATIVE_TO_GROUND;\n            placemark.attributes = placemarkAttributes;\n            placemark.highlightAttributes = highlightPlacemarkAttributes;\n    \n            //Defines orbit ranges\n            if (satData[j].OBJECT_TYPE === \"PAYLOAD\") {\n              if (satData[j].ORBIT_TYPE === \"Low Earth Orbit\") {\n                leoSatLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Middle Earth Orbit\") {\n                meoSatLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Geosynchronous\") {\n                geoSatLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Highly Elliptical Orbit\") {\n                heoSatLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Unclassified\") {\n                unclassifiedSatLayer.addRenderable(placemark);\n              } else {\n                console.log(satData[j].ORBIT_TYPE);\n              }\n            } else if (satData[j].OBJECT_TYPE === \"ROCKET BODY\") {\n              if (satData[j].ORBIT_TYPE === \"Low Earth Orbit\") {\n                leoRocketLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Middle Earth Orbit\") {\n                meoRocketLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Geosynchronous\") {\n                geoRocketLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Highly Elliptical Orbit\") {\n                heoRocketLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Unclassified\") {\n                unclassifiedRocketLayer.addRenderable(placemark);\n              } else {\n                console.log(satData[j].ORBIT_TYPE);\n              }\n            } else if (satData[j].OBJECT_TYPE === \"DEBRIS\") {\n              if (satData[j].ORBIT_TYPE === \"Low Earth Orbit\") {\n                leoDebrisLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Middle Earth Orbit\") {\n                meoDebrisLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Geosynchronous\") {\n                geoDebrisLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Highly Elliptical Orbit\") {\n                heoDebrisLayer.addRenderable(placemark);\n              } else if (satData[j].ORBIT_TYPE === \"Unclassified\") {\n                unclassifiedDebrisLayer.addRenderable(placemark);\n              } else {\n                console.log(satData[j].ORBIT_TYPE);\n              }\n            }            \n          } //End of for   \n          \n\n          /*\n          // Interval to Update all Satellite Positions\n          var updateTime = 2000\n          var updatePermission = true\n          //updatePositions()\n\n          console.log('updatePositions: ', updatePositions)\n          \n          var updatePositions = setInterval(function () {\n          \n            if (!updatePermission)\n              return;\n\n            for (var indx = 0; indx < satNum; indx += 1) {\n              var timeSlide = 500 //$('#timeEvent').jqxSlider('value');\n              var now = new Date();\n              var time = new Date(now.getTime() + timeSlide * 60000);              \n              try {\n                var position = getPosition(satellite.twoline2satrec(satData[indx].TLE_LINE1, satData[indx].TLE_LINE2), time);\n                satVelocity[indx] = getVelocity(satellite.twoline2satrec(satData[indx].TLE_LINE1, satData[indx].TLE_LINE2), time);\n\n              } catch (err) {\n                console.log(err + ' in updatePositions interval, sat ' + indx + satPac[indx].OBJECT_NAME);\n                continue;\n              }\n              try {\n                everyCurrentPosition[indx].latitude = position.latitude;\n                everyCurrentPosition[indx].longitude = position.longitude;\n                everyCurrentPosition[indx].altitude = position.altitude;\n              } catch (err) {\n                //TODO: Handle deorbited sats\n              }\n            }\n            wwd.redraw();\n          }, updateTime * 1.5);\n          */\n\n    \n          wwd.redraw();\n        }\n    }\n    \n    \n  \n    \n    wwd.redraw();\n\n}"]}]}